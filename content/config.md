### 配置规范

一个 Web 应用往往有一些配置信息，比如数据库信息，健康检查超时时间等等，这些信息可能来自配置文件，环境变量或者命令行参数，所以我们可以用一个单独的配置管理库来对配置进行管理。这里我们选用的是 [Viper](https://github.com/spf13/viper) 这个库。

Viper 这个库的介绍可以看这个文档：[配置文件介绍](https://static.muxixyz.com/config-viper.pdf)。

目前我们的应用可能运行在多个环境，本地开发环境/预发环境/生产环境。每个环境有一些配置是不一样的，比如数据库配置和运行的端口等等。这里我们采取的方案是：在仓库里的 yaml 文件里的配置是本地的开发配置。预发和生产环境中和本地开发不一样的配置，通过环境变量传入（写在 k8s 的 yaml 中）。

> 敏感信息一般都是通过环境变量或者远程存储的方式存储的，不会写死在代码里。