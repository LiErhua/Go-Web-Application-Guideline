# Go-Web-Application-Guideline

木犀团队 Go Web 工程规范

> 如何协作：具体每一节的规范在 content 文件夹里，选择具体的某一个文件，然后写在里面就行。最后在这个 README 里面写一个简介，和到具体规范文件的链接。


> 本规范深度参考了掘金小册-[基于 Go 语言构建企业级的 RESTful API 服务](https://juejin.im/book/5b0778756fb9a07aa632301e)

## 主要内容

### [配置规范]()

一个 Web 应用往往有一些配置信息，比如数据库信息，健康检查超时时间等等，这些信息可能来自配置文件，环境变量或者命令行参数，所以我们可以用一个单独的配置管理库来对配置进行管理。这里我们选用的是 [Viper](https://github.com/spf13/viper) 这个库。

### 错误处理规范

// TODO

我们的应用中往往会有错误和异常，这并不可怕，关键是我们要把这些信息合理的呈现和记录下来，以供我们分析和排查。合理的错误处理有两个好处：一，让 API 的消费者在发生错误时，可以接收到合适的 HTTP 状态码和应用内部的错误码。二，在发生错误时，把关键信息 Log 出来，可以让我们监控错误，分析错误，发现应用上线之后的问题。有了合适的错误处理，妈妈再也不担心我没法定位用户端的报错了。

### 测试规范

// TODO

在某个 API 定义好之后，我们首先针对这个 API 写单元测试，这个时候测试是失败的，然后再完成 API 的代码来通过测试。这就是测试驱动开发的要点。

### 包管理规范

// TODO

使用 Go Module

### 数据库规范

// TODO

写 SQL 创建表，写 SQL 迁移表。不用外键。ORM 主要做两个事情，一个是数据库数据到 Go struct 的双向映射，一个是通过一些函数调用生成 SQL 来查询数据库。

### Log 规范

// TODO

JSON 格式的 Log

### API 文档规范

// TODO

自动生成 Swagger 文档

### Makefile 规范

// TODO

### 模板仓库

// TODO